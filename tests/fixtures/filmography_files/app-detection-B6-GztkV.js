import"../chunks/B5Qt9EMX.js";import{d as m}from"../chunks/Duz0x7wZ.js";function g(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}function u(e,t){return Object.values(e).includes(t)}const p={IOS:"iOS",TVOS:"tvOS",ANDROID:"Android"},c="fromApp",i="fromApp";function d(){return f()||A()!==null}function f(){const e=new URL(window.location.toString());return e.searchParams.has(i)&&(e.searchParams.get(i)==="true"?sessionStorage.setItem(c,"true"):sessionStorage.removeItem(c),e.searchParams.delete(i),window.history.replaceState(null,"",e)),sessionStorage.getItem(c)==="true"}function A(){const e=navigator.userAgent.split(" ");if(e.length>=3&&e[2]==="LetterboxdWebView"){const[t,o]=e,n=Number(t.split("/")[1]);if(!isNaN(n)&&u(p,o))return{platform:o,buildNumber:n}}return null}function S(){try{const e="user-scalable=no,maximum-scale=1.0",t=",",o=document.head.querySelector('[name="viewport"][content]');if(o&&o.content)o.content=o.content.replace(/^((?:(?!user-scalable=(no|yes)).)*)(?:user-scalable=(no|yes))?/,(n,r)=>{const l=r.length&&r.charAt(r.length-1)!==t;return"".concat(r).concat(l?t:"").concat(e)});else{const n=document.createElement("meta");n.name="viewport",n.content=e,document.head.appendChild(n)}}catch(e){}}const s=d();s&&S();const a=document.documentElement.classList;a.remove("context-client-unknown");a.toggle("context-client-app",s);a.toggle("context-client-not-app",!s);m.then(()=>{if(s){for(const e of document.querySelectorAll(".js-hide-in-app"))e.remove();for(const e of document.querySelectorAll(".js-show-in-app"))e.hidden=!1;if(window.renderMobile){const e=document.querySelector(".backdrop-container");e&&(e.style.top="0")}}else for(const e of document.querySelectorAll(".js-show-in-app"))e.remove()});export{g as __vite_legacy_guard};
